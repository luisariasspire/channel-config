#!/bin/bash

function rename () {
    sed -i '' -e 's/^'${1}':/'${2}':/g' {production,staging}/{sat,gs}/*.yaml gs_templates.yaml sat_templates.yaml
    git add {production,staging}/{sat,gs}/*.yaml gs_templates.yaml sat_templates.yaml
    git commit -m "renamed channel "${1}" to "${2}
    poetry run python3 -m channel_tool format
    git add {production,staging}/{sat,gs}/*.yaml gs_templates.yaml sat_templates.yaml
    git commit -m "corrected channel ordering, moving newly renamed channel "$2    
}

# rename CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO S_TXO_KSAT_BW1_LEG_F2200_5
rename CONTACT_RXO S_TXO_SPIRE_BW1_LEG_F2022_5
rename CONTACT_RXO_DVBS2X S_TXO_SPIRE_BW1_P39_F2022_5
rename CONTACT_RXO_DVBS2X_BW1MHZ_23PLS_25DEG S_TXO_SPIRE_BW1_P23_F2022_5_JIRA_PRI_184
rename CONTACT_RXO_DVBS2X_BW1MHZ_39PLS_40DEG S_TXO_SPIRE_BW1_P39_F2022_5_JIRA_PRI_184
rename CONTACT_RXO_DVBS2X_BW5MHZ_PLS11 S_TXO_SPIRE_BW5_P11_F2022_5
rename CONTACT_RXO_DVBS2X_BW5MHZ_PLS15 S_TXO_SPIRE_BW5_P15_F2022_5
rename CONTACT_RXO_DVBS2X_HIGH_ELEVATION S_TXO_SPIRE_BW1_P75_F2022_5
rename CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ S_TXO_SPIRE_BW1_P39_F2200_5
rename CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ_PLS_87 S_TXO_SPIRE_BW1_P87_F2200_5
rename CONTACT_RXO_SBAND_FREQ_2200_MHZ S_TXO_SPIRE_BW1_LEG_F2200_5
rename CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO S_TXO_KSAT_BW1_LEG_F2200_5
rename CONTACT_RXO S_TXO_SPIRE_BW1_LEG_F2022_5
rename CONTACT_RXO_DVBS2X S_TXO_SPIRE_BW1_P39_F2022_5
rename CONTACT_RXO_DVBS2X_BW1MHZ_23PLS_25DEG S_TXO_SPIRE_BW1_P23_F2022_5_JIRA_PRI_184
rename CONTACT_RXO_DVBS2X_BW1MHZ_39PLS_40DEG S_TXO_SPIRE_BW1_P39_F2022_5_JIRA_PRI_184
rename CONTACT_RXO_DVBS2X_BW5MHZ_PLS11 S_TXO_SPIRE_BW5_P11_F2022_5
rename CONTACT_RXO_DVBS2X_BW5MHZ_PLS15 S_TXO_SPIRE_BW5_P15_F2022_5
rename CONTACT_RXO_DVBS2X_HIGH_ELEVATION S_TXO_SPIRE_BW1_P75_F2022_5
rename CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ S_TXO_SPIRE_BW1_P39_F2200_5
rename CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ_PLS_87 S_TXO_SPIRE_BW1_P87_F2200_5
rename CONTACT_RXO_SBAND_FREQ_2200_MHZ S_TXO_SPIRE_BW1_LEG_F2200_5
