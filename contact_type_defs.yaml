# This file defines the contact types from a licensing perspective.
# For each type, it defines the licenses necessary to use it.
# Refer to the Regulatory Tracker for detailed licensing information:
# https://spire.sharepoint.us/:x:/r/sites/Regulatory/Shared%20Documents/TechnicalLibrary/Regulatory_Tracker.xlsx?d=w6bf2b27a32174b00b28214137c3c5971&csf=1&web=1&e=O2u2rS

bands:
  # The band definitions are given as lower and upper frequency limits,
  # drawn from the Regulatory Tracker sheet. All values in MHz.
  UHF402_7_UD: &UHF402_7_UD
    band: [402.6, 402.8]
    earth_to_space: true
    space_to_earth: true

  UHF450_U: &UHF450_U
    band: [449.75, 450.25]
    earth_to_space: true
    space_to_earth: false

  UHF401_5_D: &UHF401_5_D
    band: [401.0, 402.0]
    earth_to_space: false
    space_to_earth: true

  UHF400_U: &UHF400_U
    band: [399.9, 400.05]
    earth_to_space: true
    space_to_earth: false

  SBAND2022_5_D: &SBAND2022_5_D
    band: [2020.0, 2025.0]
    earth_to_space: false
    space_to_earth: true

  SBAND2200_5_D: &SBAND2200_5_D
    band: [2200.0, 2201.0]
    earth_to_space: false
    space_to_earth: true

  SBAND2032_5_U: &SBAND2032_5_U
    band: [2030.0, 2035.0]
    earth_to_space: true
    space_to_earth: false

  XBAND8200_D: &XBAND8200_D
    band: [8170.0, 8230.0]
    earth_to_space: false
    space_to_earth: true

# Contact type definitions are inferred from the code in `scheduler.py` and
# `licensing.py`, which unfortunately don't fully explain _why_ a certain
# contact type is used. They also don't check license directionality! o_O
contact_types:
  # Bidirectional contact types.
  CONTACT_BIDIR_UHF: &contact_bidir_uhf
    desc: "Bidirectional contact with UHF only"
    contact_type: "CONTACT_BIDIR_UHF"
    directionality: "Bidirectional"
    all_of:
      - *UHF402_7_UD

  CONTACT_BIDIR_PARAM_UHF:
    <<: *contact_bidir_uhf
    desc: "Bidirectional contact with UHF only, parameterized window version"
    contact_type: "CONTACT_SPACE_GROUND_BIDIR"

  # Bidirectional contact, using UHF for uplink and S-band for downlink.
  CONTACT_BIDIR: &contact_bidir
    desc: "Bidirectional contact with UHF up and S-band down"
    contact_type: "CONTACT_BIDIR"
    directionality: "Bidirectional"
    all_of:
      - *UHF402_7_UD
      - *SBAND2022_5_D

  # Variants using the same license, with different link options.
  CONTACT_BIDIR_DVBS2X: 
    <<: *contact_bidir
    desc: "Bidirectional contact with UHF up and S-band down, using DVB-S2X modulation"
    contact_type: "CONTACT_BIDIR_DVBS2X"

  CONTACT_TRACKING_BIDIR: 
    <<: *contact_bidir
    desc: "Bidirectional contact with UHF up and S-band down, with target tracking"
    contact_type: "CONTACT_TRACKING_BIDIR"

  CONTACT_TRACKING_BIDIR_DVBS2X: 
    <<: *contact_bidir
    desc: "Bidirectional contact with UHF and S-band, with target tracking using DVB-S2X modulation"
    contact_type: "CONTACT_TRACKING_BIDIR_DVBS2X"

  CONTACT_BIDIR_PARAM:
    <<: *contact_bidir
    desc: "Bidirectional contact with UHF up and S-band down, parameterized window version"
    contact_type: "CONTACT_SPACE_GROUND_BIDIR"

  CONTACT_BIDIR_PARAM_DVBS2X:
    <<: *contact_bidir
    desc: "Bidirectional contact with UHF up and S-band down, using DVB-S2X modulation, parameterized window version"
    contact_type: "CONTACT_SPACE_GROUND_BIDIR"

  CONTACT_BIDIR_DVBS2X_HIGH_ELEVATION:
    <<: *contact_bidir
    desc: "Bidirectional contact with UHF up and S-band down, using DVB-S2X high-elevation modcod"
    contact_type: "CONTACT_BIDIR_DVBS2X"

  CONTACT_BIDIR_PARAM_DVBS2X_HIGH_ELEVATION:
    <<: *contact_bidir
    desc: "Bidirectional contact with UHF up and S-band down, using DVB-S2X high-elevation modcod, parameterized window version"
    contact_type: "CONTACT_SPACE_GROUND_BIDIR"

  # Receive-only contact types.
  # CONTACT_RXO is the default, and uses the 2022MHz S-band license.
  CONTACT_RXO: &contact_rxo
    desc: "One-way contact with S-band down"
    contact_type: "CONTACT_RXO"
    directionality: "SpaceToEarth"
    all_of:
      - *SBAND2022_5_D

  CONTACT_RXO_DVBS2X: 
    <<: *contact_rxo
    desc: "One-way contact with S-band down, using DVB-S2X modulation"
    contact_type: "CONTACT_RXO_DVBS2X"

  CONTACT_RXO_DVBS2X_HIGH_ELEVATION:
    <<: *contact_rxo
    desc: "One-way contact with S-band down, using DVB-S2X high-elevation modcod, parameterized window version"
    contact_type: "CONTACT_SPACE_GROUND_TXO"

  CONTACT_TRACKING_RXO: 
    <<: *contact_rxo
    desc: "One-way contact with S-band down, with target tracking"
    contact_type: "CONTACT_TRACKING_RXO"

  CONTACT_TRACKING_RXO_DVBS2X: 
    <<: *contact_rxo
    desc: "One-way contact with S-band down, with target tracking using DVB-S2X modulation"
    contact_type: "CONTACT_TRACKING_RXO_DVBS2X"

  # Contact type for receive-only broadcasts at 2200 MHz.
  CONTACT_RXO_SBAND_FREQ_2200_MHZ: &contact_rxo_sband_freq_2200_mhz
    all_of:
      - *SBAND2200_5_D
    desc: "One-way contact with S-band down in 2200MHz band"
    contact_type: "CONTACT_RXO_SBAND_FREQ_2200_MHZ"
    directionality: "SpaceToEarth"

  CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ: 
    <<: *contact_rxo_sband_freq_2200_mhz
    desc: "One-way contact with S-band down in 2200MHz band using DVB-S2X modulation"
    contact_type: "CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ"

  CONTACT_TRACKING_RXO_SBAND_FREQ_2200_MHZ: 
    <<: *contact_rxo_sband_freq_2200_mhz
    desc: "One-way contact with S-band down in 2200MHz band with target tracking"
    contact_type: "CONTACT_TRACKING_RXO_SBAND_FREQ_2200_MHZ"

  CONTACT_TRACKING_RXO_DVBS2X_SBAND_FREQ_2200_MHZ: 
    <<: *contact_rxo_sband_freq_2200_mhz
    desc: "One-way contact in 2200MHz band with target tracking using DVB-S2X modulation"
    contact_type: "CONTACT_TRACKING_RXO_DVBS2X_SBAND_FREQ_2200_MHZ"

  X_BAND_TXO: &xband_txo
    all_of:
      - *XBAND8200_D
    desc: "One-way contact in X-band"
    contact_type: "CONTACT_SPACE_GROUND_TXO"
    directionality: "SpaceToEarth"

  TRACK_X_BAND_TXO:
    <<: *xband_txo
    desc: "One-way contact in X-band with target tracking"
    contact_type: "CONTACT_SPACE_GROUND_TXO"

  CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO: &CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO
    all_of:
      - *SBAND2200_5_D
    desc: "One-way contact in S-band, using KSAT Lite network"
    contact_type: "CONTACT_SPACE_GROUND_TXO"
    directionality: "SpaceToEarth"

# Below are alias definitions for groups of channels which can be used in
# `channel_tool`.
groups:
  # any using UHF
  uhf:
    - CONTACT_BIDIR_UHF
    - CONTACT_BIDIR
    - CONTACT_BIDIR_DVBS2X
    - CONTACT_TRACKING_BIDIR
    - CONTACT_TRACKING_BIDIR_DVBS2X
    - CONTACT_BIDIR_PARAM_UHF
    - CONTACT_BIDIR_DVBS2X_HIGH_ELEVATION
    - CONTACT_BIDIR_PARAM
    - CONTACT_BIDIR_PARAM_DVBS2X
    - CONTACT_BIDIR_PARAM_DVBS2X_HIGH_ELEVATION

  # only using UHF
  uhf_only:
    - CONTACT_BIDIR_UHF
    - CONTACT_BIDIR_PARAM_UHF

  # any using SBand 2020
  sband_2020:
    - CONTACT_BIDIR
    - CONTACT_BIDIR_DVBS2X
    - CONTACT_TRACKING_BIDIR
    - CONTACT_TRACKING_BIDIR_DVBS2X
    - CONTACT_RXO
    - CONTACT_RXO_DVBS2X
    - CONTACT_TRACKING_RXO
    - CONTACT_TRACKING_RXO_DVBS2X
    - CONTACT_BIDIR_DVBS2X_HIGH_ELEVATION
    - CONTACT_BIDIR_PARAM
    - CONTACT_BIDIR_PARAM_DVBS2X
    - CONTACT_BIDIR_PARAM_DVBS2X_HIGH_ELEVATION
    - CONTACT_RXO_DVBS2X_HIGH_ELEVATION

  # only using UHF and SBand 2020:
  uhf_and_sband_2020_only:
    - CONTACT_BIDIR
    - CONTACT_BIDIR_DVBS2X
    - CONTACT_TRACKING_BIDIR
    - CONTACT_TRACKING_BIDIR_DVBS2X
    - CONTACT_BIDIR_DVBS2X_HIGH_ELEVATION
    - CONTACT_BIDIR_PARAM
    - CONTACT_BIDIR_PARAM_DVBS2X
    - CONTACT_BIDIR_PARAM_DVBS2X_HIGH_ELEVATION

  # only using SBand 2020
  sband_2020_only:
    - CONTACT_RXO
    - CONTACT_RXO_DVBS2X
    - CONTACT_TRACKING_RXO
    - CONTACT_TRACKING_RXO_DVBS2X
    - CONTACT_RXO_DVBS2X_HIGH_ELEVATION

  # any using SBand 2200
  sband_2200:
    - CONTACT_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO

  # only using SBand 2200
  sband_2200_only:
    - CONTACT_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO

  # any using SBand
  sband:
    - CONTACT_BIDIR
    - CONTACT_BIDIR_DVBS2X
    - CONTACT_TRACKING_BIDIR
    - CONTACT_TRACKING_BIDIR_DVBS2X
    - CONTACT_RXO
    - CONTACT_RXO_DVBS2X
    - CONTACT_TRACKING_RXO
    - CONTACT_TRACKING_RXO_DVBS2X
    - CONTACT_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO
    - CONTACT_BIDIR_DVBS2X_HIGH_ELEVATION
    - CONTACT_BIDIR_PARAM
    - CONTACT_BIDIR_PARAM_DVBS2X
    - CONTACT_BIDIR_PARAM_DVBS2X_HIGH_ELEVATION
    - CONTACT_RXO_DVBS2X_HIGH_ELEVATION

  # any RXO using SBand legacy
  sband_legacy_rxo:
    - CONTACT_RXO
    - CONTACT_TRACKING_RXO
    - CONTACT_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO

  # any using XBand
  xband:
    - X_BAND_TXO
    - TRACK_X_BAND_TXO

  # bidirectionals
  bidir:
    - CONTACT_BIDIR_UHF
    - CONTACT_BIDIR
    - CONTACT_BIDIR_DVBS2X
    - CONTACT_TRACKING_BIDIR
    - CONTACT_TRACKING_BIDIR_DVBS2X
    - CONTACT_BIDIR_PARAM_UHF
    - CONTACT_BIDIR_DVBS2X_HIGH_ELEVATION
    - CONTACT_BIDIR_PARAM
    - CONTACT_BIDIR_PARAM_DVBS2X
    - CONTACT_BIDIR_PARAM_DVBS2X_HIGH_ELEVATION

  # space-to-ground only
  rxo:
    - CONTACT_RXO
    - CONTACT_RXO_DVBS2X
    - CONTACT_TRACKING_RXO
    - CONTACT_TRACKING_RXO_DVBS2X
    - CONTACT_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - X_BAND_TXO
    - CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO
    - CONTACT_RXO_DVBS2X_HIGH_ELEVATION
    - TRACK_X_BAND_TXO

  # DVBS2X encoded
  dvbs2x:
    - CONTACT_BIDIR_DVBS2X
    - CONTACT_RXO_DVBS2X
    - CONTACT_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_BIDIR_DVBS2X
    - CONTACT_TRACKING_RXO_DVBS2X
    - CONTACT_TRACKING_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - X_BAND_TXO
    - CONTACT_BIDIR_DVBS2X_HIGH_ELEVATION
    - CONTACT_BIDIR_PARAM_DVBS2X
    - CONTACT_BIDIR_PARAM_DVBS2X_HIGH_ELEVATION
    - CONTACT_RXO_DVBS2X_HIGH_ELEVATION
    - TRACK_X_BAND_TXO

  # Target tracking
  tracking:
    - CONTACT_TRACKING_BIDIR
    - CONTACT_TRACKING_BIDIR_DVBS2X
    - CONTACT_TRACKING_RXO
    - CONTACT_TRACKING_RXO_DVBS2X
    - CONTACT_TRACKING_RXO_DVBS2X_SBAND_FREQ_2200_MHZ
    - CONTACT_TRACKING_RXO_SBAND_FREQ_2200_MHZ
    - TRACK_X_BAND_TXO

  # Antenna-only KSAT contacts.
  ksatlite:
    - CONTACT_KSATLITE_SBAND_SPACE_GROUND_TXO
